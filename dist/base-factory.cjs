"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const o=require("@vitechgroup/mkt-elec-core"),g=(t,e,s)=>{const r=t[e];return r?typeof r=="function"?r():Promise.resolve(r):new Promise((C,c)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(c.bind(null,new Error("Unknown variable dynamic import: "+e+(e.split("/").length!==s?". Note that variables only represent file names one level deep.":""))))})};class a{static async loadPlugin(e){const s=o.CoreLogger.getInstance();try{const r=await g(Object.assign({"../providers/business/index.ts":()=>Promise.resolve().then(()=>P),"../providers/www/index.ts":()=>Promise.resolve().then(()=>I)}),`../providers/${e}/index.ts`,4);if(r.register)r.register();else throw new Error(`[Plugin Loader] No register in ${e}`)}catch(r){throw s.error(`[Plugin Loader] Failed to load ${e}:`,r),r}}}class l{static async getProvider(e){return await a.loadPlugin(e.type),i.getFactory(e.type).create(e)}}class i{static factories=new Map;static register(e,s){this.factories.set(e,s)}static getFactory(e){const s=this.factories.get(e);if(!s)throw new Error(`[Provider Registry] No factory registered for '${e}'`);return s}static listProviders(){return Array.from(this.factories.keys())}}const u={},d={log_process_run:u},p={},y={log_process_run:p},h={},f={log_process_run:h};var n=(t=>(t.WWW="www",t.BUSINESS="business",t))(n||{});class W{logger;constructor(){this.logger=o.CoreLogger.getInstance()}async startApi(){this.logger.info("BusinessApiActions start")}}class A{logger;constructor(){this.logger=o.CoreLogger.getInstance()}async startAutomated(){this.logger.info("BusinessAutomatedActions start")}}class m{logger;constructor(){this.logger=o.CoreLogger.getInstance()}async startScripted(){this.logger.info("BusinessScriptedActions start")}}class w{get useApi(){return new W}get useAutomated(){return new A}get useScripted(){return new m}}class v{create(){return new w}}function _(){i.register(n.BUSINESS,new v)}const P=Object.freeze(Object.defineProperty({__proto__:null,register:_},Symbol.toStringTag,{value:"Module"}));class b{logger;payload;constructor(e){this.logger=o.CoreLogger.getInstance(),this.payload=e}async startApi(){this.logger.info("payload",this.payload),this.logger.info("WWWApiActions start")}}class S{logger;payload;constructor(e){this.logger=o.CoreLogger.getInstance(),this.payload=e}async startAutomated(){this.logger.info("payload",this.payload),this.logger.info("WWWAutomatedActions start")}}class F{logger;payload;constructor(e){this.logger=o.CoreLogger.getInstance(),this.payload=e}async startScripted(){this.logger.info("payload",this.payload),this.logger.info("WWWScriptedActions start")}}class k{automated;scripted;api;constructor(e){this.automated=new S(e),this.scripted=new F(e),this.api=new b(e)}get useAutomated(){return this.automated}get useScripted(){return this.scripted}get useApi(){return this.api}}class L{create(e){return new k(e)}}function B(){i.register(n.WWW,new L)}const I=Object.freeze(Object.defineProperty({__proto__:null,register:B},Symbol.toStringTag,{value:"Module"}));exports.EN=d;exports.EnumFacebookProvider=n;exports.FacebookPluginLoader=a;exports.FacebookProviderFacade=l;exports.FacebookProviderRegistry=i;exports.KO=y;exports.VI=f;
